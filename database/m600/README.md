Aerodynamic databases
=====================

The aerodynamic databases listed below are our "low-incidence" aero
databases.
The variables 'alphads', 'betads' and 'deltads' (see definitions
below) describe a grid of size (num_alphas x num_betas x num_deltas)
over which arrays of aerodynamic coefficients can be interpolated.

----------------------------------------------------------------------
Variable   | Description                               | Units
-----------|-------------------------------------------|--------------
reynolds_  | Reynolds number used for the computation  | #
number     | of the database                           |
alphads    | list of angles-of-attack                  | deg
betads     | list of angles-of-sideslip                | deg
deltads    | list of control surface deflection angles | deg
flap_list  | list of control surfaces deflected by     | #
           | deltads                                   |
omega_hat  | dimensionless angular rates (also called  | #
           | c_omega in other parts of the code)       |
           | omega_hat = (omega_b * length_scale) /    |
           |             (2.0 * v_rel)                 |
Sref       | reference surface area                    | m^2
Cref       | reference chord length                    | m
Bref       | reference span length                     | m
Mach       | Mach number, if compressibility effects   | #
           | are to be accounted for                   |
CLtot,     | array of total lift and drag coefficients | #
CDtot      |                                           |
de1        | array of elevator deflection angles       | deg
CFMtot     | arrays of total force/moment coefficients,| #
           | where FM = X, Y, Z, l, m, n               |
CFMw       | arrays of stability derivatives,          | #
           | where FM = X, Y, Z, l, m, n,              |
           | and w = p, q, r are dimensionless angular |
           | rates                                     |
CFMdx      | arrays of control derivatives,            | /deg
           | where FM = X, Y, Z, l, m, n,              |
           | and x = d1, d2, d3, d4, d5, d6, d7, d8    |
----------------------------------------------------------------------

m600_low_tail_no_winglets.json
-------------------------------
Eight flap aerodynamic database generated from AVL. This version
corresponds to the M600_visc_r6 file in
the Subversion repository: M600_visc_r6.avl 
with the exception for the winglet geometry which
is removed here. This version features an inverted T tail and some
pylon adjustments compared to M600_visc_r1-3.

m600_low_tail_no_winglets_zero_angular_rate.json
------------------------------------------------
Eight flap aerodynamic database generated from AVL, which is
linearized about a zero angular rate.  This uses the same AVL input
file as the m600_low_tail_no_winglets.json database but with a zero
rotation vector used in make_aero_database.py.

m600_aswing_r9_re1e6; _re2e6; _re5e6
------------------------------------
Eight flap aerodynamic databases generated from ASWING at Reynolds
numbers 1, 2 and 5 million (referenced to mean chord of 1.280 m).
The ASWING input files (m600_r9-1_ReXe6) are kept in
analysis/aero/aswing/ This version corresponds to revision r9-1
of the ASWING input file in the
Subversion repository.
This version features an inverted T tail and no winglets.
The databases we generated using the MATLAB scripts on
makani-private.googlesource.com/makani/experimental/aerodynamics
(commit 2392704).

m600_aswing_baseline; _stage1; _stage3
--------------------------------------
ASWING databases for baseline M600 (i.e. no slats), stage 1 and
stage 3 slats were generated at Reynolds number of 5 million.
The database generation tools are on makani-private.googlesource.com/
makani/experimental/aerodynamics/ASWING_Database.
These files were generated under CLs 26500 and 26702.

m600_vsaero.json; m600_vsaero_zero_angular_rate.json
----------------------------------------------------
Databases generated by AMI using VSAERO.  These databases are for the
low tail configuration without winglets.  The exact databases
delivered from AMI are stored in the 09_Controls > Aero > AMI folder:
M600-Baselines-VSAERO-deg.zip (password: MakaniResults).
The format of the file has been trivially altered to conform to
Makani's standards.

spoiler_offset_tables.json;
----------------------------------------------------
Databases generated from CFD data as additional aero coefficients.
Currently, only the A4 coefficients are generated from CFD. It is
then used to derive spoiler effects for A5, which is the same
except that the signs for CY, Cl and Cn are flipped. Several smoothing
functions were applied to the raw data before deriving the offset.
The CFD data and smoothing scripts can be found at
https://drive.google.com/corp/drive/folders/1sOe3YJaTPdfIr6ixbHikJZfoNQwDf3w7


Rotor databases
===============

rotor_rev1_corrected.json
-------------------------
This database is for dvl's original M600 propeller.  The XROTOR file
is located in analysis/aero/xrotor/rf7w6.xrot.  It incorporates
empirical corrections on thrust and torque determined on
2015-10-27 (see database corrections field).

rotor_rev1_trimmed_corrected.json
---------------------------------
This database is for dvl's M600 propeller with the tips trimmed.  The
XROTOR file is located in analysis/aero/xrotor/rev1trim.xrot.  It
incorporates empirical corrections on thrust and torque determined
on 2015-10-27 (see database corrections field).

rotor_rev2_corrected.json
-------------------------
This database is for the propeller designed around Nov. 2014.
The XROTOR file is located in analysis/aero/xrotor/r110nb5.xrot.  It
incorporates empirical corrections on thrust and torque determined
on 2015-10-27 (see database corrections field).

rotor_rev3_corrected.json
-------------------------
This database is for the thrust-biased propeller.  The XROTOR
file is located in analysis/aero/xrotor/rev3r116.xrot.  It
incorporates *guesses* at what the empirical corrections will be based
on past experience.
